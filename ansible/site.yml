---
# Generated By: Cursor (Claude Sonnet 4)
# Main playbook for VM workstation setup
# Usage: ansible-playbook -i localhost, -c local site.yml

- name: VM Workstation Setup
  hosts: localhost
  connection: local
  gather_facts: true

  vars_files:
    - group_vars/all.yml

  pre_tasks:
    - name: Ensure we're running on a supported distribution
      ansible.builtin.assert:
        that:
          - ansible_os_family == "RedHat"
        fail_msg: "This playbook is designed for Red Hat family distributions (Fedora, RHEL, CentOS)"

  roles:
    - role: packages
      tags: packages
    - role: files
      tags: files
    - role: git
      tags: git
    - role: system_config
      tags: system-config
    - role: ssh
      tags: ssh
    - role: nomachine
      tags: nomachine
    - role: cursor
      tags: cursor
    - role: claude_code
      tags: claude-code
    - role: gnome_extensions
      tags: gnome-extensions
    - role: samba
      tags: samba
