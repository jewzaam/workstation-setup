---
# Generated By: Cursor (Claude Sonnet 4)
# SSH server installation and configuration

- name: Install SSH packages
  ansible.builtin.dnf:
    name: "{{ ssh_packages }}"
    state: present
  become: true
  register: ssh_package_install

- name: Start and enable SSH service
  ansible.builtin.systemd:
    name: "{{ ssh_service }}"
    state: started
    enabled: true
  become: true
  register: ssh_service_result

- name: Add SSH service to firewall
  ansible.posix.firewalld:
    service: "{{ ssh_firewall_service }}"
    permanent: true
    state: enabled
  become: true
  register: ssh_firewall_result
  notify: Reload firewall
