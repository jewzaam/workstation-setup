# Generated By: Cursor (Claude Sonnet 4)
# Samba configuration file

[global]
   workgroup = WORKGROUP
   server string = {{ ansible_hostname }} Samba Server
   server role = standalone server
   server signing = auto
   smb encrypt = desired
   log level = 1
   log file = /var/log/samba/%m.log
   max log size = 50
   dns proxy = no
   unix charset = UTF-8
   dos charset = CP850
   security = user
   passdb backend = tdbsam
   obey pam restrictions = yes
   unix password sync = no
   passwd program = /usr/bin/passwd %u
   passwd chat = *New*UNIX*password* %n\n *ReType*new*UNIX*password* %n\n *passwd:*all*authentication*tokens*updated*successfully*
   pam password change = yes
   map to guest = never
   usershare allow guests = no

[{{ samba_share_name }}]
   comment = {{ samba_share_comment }}
   path = {{ samba_share_path }}
   browseable = {{ samba_browseable | lower | replace('true', 'yes') | replace('false', 'no') }}
   guest ok = {{ samba_guest_ok | lower | replace('true', 'yes') | replace('false', 'no') }}
   create mask = {{ samba_create_mask }}
   directory mask = {{ samba_directory_mask }}
   force user = {{ samba_force_user }}
   force group = {{ samba_force_group }}
   inherit owner = {{ samba_inherit_owner | lower | replace('true', 'yes') | replace('false', 'no') }}
   inherit permissions = {{ samba_inherit_permissions | lower | replace('true', 'yes') | replace('false', 'no') }}
   # Simple, secure configuration
   # Allow the user to access and write
   valid users = {{ samba_force_user }}
   writable = yes 