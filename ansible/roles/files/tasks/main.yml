---
# Generated By: Cursor (Claude Sonnet 4)
# Files deployment tasks - dumb copy operations

- name: Create directories for files
  ansible.builtin.file:
    path: "{{ user_home }}/{{ item.dest | dirname }}"
    state: directory
    mode: "0755"
    owner: "{{ user_name }}"
    group: "{{ user_name }}"
  loop: "{{ files }}"
  when: item.dest | dirname != '.'

- name: Deploy files to user home directory
  ansible.builtin.copy:
    src: "{{ item.src }}"
    dest: "{{ user_home }}/{{ item.dest }}"
    mode: "{{ item.mode }}"
    owner: "{{ user_name }}"
    group: "{{ user_name }}"
    backup: true
    force: "{{ not item.user_managed }}"
  loop: "{{ files }}"
