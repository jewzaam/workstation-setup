# Generated By: Cursor (Claude Sonnet 4)
# .bashrc.d/30-functions - Shell functions
# This file is managed by ansible - user customizations go in ~/.bashrc.d/99-user

# https://github.com/openshift/ops-sop/blob/master/v3/gitworkflow.asciidoc#function-for-bash
function rebaseupstream () {
  branch=prod
  if ! [[ -z "$1" ]]; then
    branch=$1
  fi

  startbranch=$(git describe --contains --all HEAD)
  git checkout $branch
  git fetch upstream
  git fetch upstream --tags
  git rebase upstream/$branch
  git push origin $branch
  git push origin --tags
  git checkout ${startbranch}
}